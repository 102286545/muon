config("build_config") {
  defines = [
    "NODE_WANT_INTERNALS=1",
    "NODE_SHARED_MODE",
  ]
}

source_set("node") {
  lib_dirs = [ root_out_dir ]
  libs = [
    "node",
    "uv",
    "cares",
    "http_parser",
    "zlib",
  ]

  public_configs = [
    ":build_config",
  ]

  deps = [
    "//third_party/boringssl",
  ]
}
